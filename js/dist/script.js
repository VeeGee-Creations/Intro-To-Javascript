let pokemonRepository=function(){const e="https://pokeapi.co/api/v2/pokemon/?limit=-1",t=[];function n(e,n){const a=[...e],c=[],r=document.querySelector("#pokelist");for(;a.length;)c.push(a.splice(0,n));$(function(){$(".simple-pagination").pagination({items:c.length,itemsOnPage:1,displayedPages:10,currentPage:1,cssStyle:"light-theme",onInit:function(){const e=$(function(){return $(".simple-pagination").pagination("getCurrentPage")}),n=function(){return e[0].URL.match(/\d+/)?parseInt(e[0].URL.match(/\d+/)[0]):1};$(function(){$(".simple-pagination").pagination("drawPage",n())}),r.innerHTML="",o(n(),c,t.length),i(c[n()-1])},onPageClick:function(e){r.innerHTML="",o(e,c,t.length),i(c[e-1])}})})}function o(e,t,n){const o=t.length,i=document.querySelector("#pokeCount");o<2&&(i.textContent=`${t[0].length} of ${n} Pokemon`),o>1&&(i.textContent=`${16*e-15}-${Math.min(16*e,n)} of ${n} Pokemon`)}function i(e){e.map(e=>{const t=document.querySelector("#pokelist"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),o.classList.add("pokebutton"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){!async function(e){await async function(e){return await fetch(e.url).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.types=t.types,e.weight=t.weight,e.abilities=t.abilities}).catch(function(e){console.error(e)})}(e).then(()=>{const t=e.name.charAt(0).toUpperCase()+e.name.slice(1),n=e.imageUrl,o=`Height: ${e.height/10}m\n\n            Weight: ${e.weight/10}kg\n\n            Types: ${e.types.map(e=>e.type.name).join(", ")}\n\n            Abilitites: ${e.abilities.map(e=>e.ability.name).join(", ")}`;!function(e,t,n){const o=document.querySelector("#pokemonModalLabel"),i=document.querySelector(".modal-body"),a=document.createElement("img"),c=document.createElement("p");o.innerText=e,o.setAttribute("tabindex","0"),i.innerHTML="",t&&a.setAttribute("src",t),a.setAttribute("id","pokemon-img"),a.setAttribute("alt",e+"-image"),c.innerText=n,c.setAttribute("tabindex","0"),i.appendChild(a),i.appendChild(c)}(t,n,o)})}(e)})})}function a(){const e=[...t],o=document.getElementById("search-input").value.toLowerCase(),i=new RegExp(o,"g"),a=document.querySelector("#pokelist");a.innerHTML="";const c=e.filter(e=>e.name.match(i));c.length>1&&a.removeAttribute("style","columns: 1"),c.length<2&&a.setAttribute("style","columns: 1"),location.hash="#page-1",n(c,16)}return{onLoad:async function(){await async function(){const t=await(await fetch(e).catch(function(e){console.error(e)})).json();return await t}().then(e=>{e.results.map(e=>t.push(e)),n(t,16)}).catch(e=>console.error(e))},searchListener:function(){const e=document.querySelector("#search-button"),t=document.querySelector("#search-input");e.addEventListener("click",a),t.addEventListener("search",a)}}}();pokemonRepository.onLoad(),pokemonRepository.searchListener();