let pokemonRepository=function(){const e="https://pokeapi.co/api/v2/pokemon/?limit=-1",t=[];function n(e){e.map(e=>{const t=document.querySelector("#pokelist"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),o.classList.add("pokebutton"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){!async function(e){await async function(e){return await fetch(e.url).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.types=t.types,e.weight=t.weight,e.abilities=t.abilities}).catch(function(e){console.error(e)})}(e).then(()=>{const t=e.name.charAt(0).toUpperCase()+e.name.slice(1),n=e.imageUrl,o=`Height: ${e.height/10}m\n\n            Weight: ${e.weight/10}kg\n\n            Types: ${e.types.map(e=>e.type.name).join(", ")}\n\n            Abilitites: ${e.abilities.map(e=>e.ability.name).join(", ")}`;!function(e,t,n){const o=document.querySelector("#pokemonModalLabel"),i=document.querySelector(".modal-body"),a=document.createElement("img"),r=document.createElement("p");o.innerText=e,o.setAttribute("tabindex","0"),i.innerHTML="",t&&a.setAttribute("src",t),a.setAttribute("id","pokemon-img"),a.setAttribute("alt",e+"-image"),r.innerText=n,r.setAttribute("tabindex","0"),i.appendChild(a),i.appendChild(r)}(t,n,o)})}(e)})})}function o(){const e=document.getElementById("search-input").value.toLowerCase(),o=new RegExp(e,"g"),i=document.querySelector("#pokelist");i.innerHTML="";const a=t.filter(e=>e.name.match(o));a.length>1&&i.removeAttribute("style","columns: 1"),a.length<2&&i.setAttribute("style","columns: 1"),n(a)}return{onLoad:function(){localStorage.getItem("pokemon")||async function(){const t=await(await fetch(e).catch(function(e){console.error(e)})).json();return await t}().then(e=>localStorage.setItem("pokemon",JSON.stringify(e.results))),results=JSON.parse(localStorage.getItem("pokemon")),results.map(e=>t.push(e)),n(t)},searchListener:function(){const e=document.querySelector("#search-button"),t=document.querySelector("#search-input");e.addEventListener("click",o),t.addEventListener("search",o)}}}();pokemonRepository.onLoad(),pokemonRepository.searchListener();